"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[341],{6842:function(e,n,t){var i=t(1413),s=t(9439),o=t(2791),r=function(e,n){var t=(0,o.useState)(!0),i=(0,s.Z)(t,2),r=i[0],a=i[1],l=(0,o.useState)(!1),u=(0,s.Z)(l,2),c=u[0],d=u[1],h=(0,o.useState)(!1),x=(0,s.Z)(h,2),f=x[0],p=x[1],j=(0,o.useState)(""),g=(0,s.Z)(j,2),m=g[0],v=g[1],b=(0,o.useState)(!1),Z=(0,s.Z)(b,2),k=Z[0],C=Z[1];return(0,o.useEffect)((function(){for(var t in n)switch(t){case"minLenght":e.length<n[t]?d(!0):d(!1);break;case"isEmpty":a(!e);break;case"isEmail":p(!String(e).toLowerCase().match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/))}}),[e,n]),(0,o.useEffect)((function(){v(r?"\u041f\u043e\u043b\u0435 \u043d\u0435 \u043c\u043e\u0436\u0435 \u0431\u0443\u0442\u0438 \u043f\u0443\u0441\u0442\u0438\u043c":f?"\u041d\u0435\u043a\u043e\u0440\u0435\u043a\u0442\u043d\u0438\u0439 \u0435\u043c\u0435\u0439\u043b":c?"\u041c\u0456\u043d\u0456\u043c\u0430\u043b\u044c\u043d\u0430 \u0434\u043e\u0432\u0436\u0438\u043d\u0430 "+n.minLenght:""),C(!(r||c||f))}),[r,c,f,n]),(0,o.useEffect)((function(){}),[]),{error:m,inputValid:k}};n.Z=function(e,n){var t=(0,o.useState)(e),a=(0,s.Z)(t,2),l=a[0],u=a[1],c=(0,o.useState)(!1),d=(0,s.Z)(c,2),h=d[0],x=d[1],f=r(l,n);return(0,i.Z)({value:l,isDirty:h,onChange:function(e){u(e.target.value)},onBlur:function(e){x(!0)}},f)}},7341:function(e,n,t){t.r(n),t.d(n,{default:function(){return ve}});var i=t(1413),s=t(2791),o=t(8128),r=t(9439),a=t(2622),l=t(711),u=t(7804),c=t(2995),d=t(9951),h=t(8630),x=t(7027),f=t(1082),p=t(3099),j=t(5052),g=t(9603),m=t(3015),v=t(7576),b=t(4621),Z=t(184),k=h.Z.Meta,C=function(e){var n=(0,s.useState)(!1),t=(0,r.Z)(n,2),i=t[0],o=t[1],C=[{key:"1",label:(0,Z.jsx)(f.Z,{title:"Delete the post",description:"Are you sure to delete this post?",onConfirm:function(){e.deletePost(e.post.id),x.ZP.success("Post deleted")},okText:"Yes",cancelText:"No",children:(0,Z.jsxs)(p.Z,{children:[(0,Z.jsx)(a.Z,{}),"Delete"]})})}];return(0,Z.jsx)(p.Z,{wrap:!0,children:(0,Z.jsx)(h.Z,{title:(0,Z.jsxs)(j.Z,{justify:"space-between",align:"middle",children:[(0,Z.jsx)(g.Z,{children:(0,Z.jsxs)(p.Z,{children:[(0,Z.jsx)(m.C,{size:30,icon:(0,Z.jsx)("img",{src:e.userAvatar,alt:"main-img"})}),e.userName]})}),(0,Z.jsx)(g.Z,{children:e.allowChange&&(0,Z.jsx)(v.Z,{placement:"bottomRight",trigger:"click",menu:{items:C},onOpenChange:function(e){o(e)},open:i,children:(0,Z.jsx)(l.Z,{})})})]}),hoverable:!0,style:{width:240},cover:(0,Z.jsx)(b.Z,{height:200,alt:"postImage",src:e.post.image}),actions:[(0,Z.jsxs)("div",{onClick:function(){e.post.liked?e.decreaseLikesCount(e.post.id):e.increaseLikesCount(e.post.id)},children:[e.post.likesCount,(0,Z.jsx)(u.Z,{},"like")]}),(0,Z.jsx)(c.Z,{},"comment"),(0,Z.jsx)(d.Z,{},"share")],children:(0,Z.jsx)(k,{title:e.post.message,description:"www.instagram.com"})})})},w=s.memo(C),y=t(6859),P=function(e){var n=(0,s.useState)(!1),t=(0,r.Z)(n,2),i=t[0],o=t[1],a=(0,s.useState)(e.status),l=(0,r.Z)(a,2),u=l[0],c=l[1];(0,s.useEffect)((function(){return c(e.status)}),[e.status]);return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)("b",{children:"Status "}),i?(0,Z.jsx)("div",{children:(0,Z.jsx)("input",{autoFocus:!0,onBlur:function(){o(!1),e.updateUserStatus(u)},onChange:function(e){c(e.currentTarget.value)},type:"text",defaultValue:u})}):(0,Z.jsx)("div",{children:(0,Z.jsx)("span",{onDoubleClick:function(){e.allowChange&&o(!0)},children:u||"------------"})})]})},F=t(6842),S="Profile_main__YV3cZ",L="Profile_btn__Y5+Jz",B="Profile_posts__-gQ-o",N="Profile_contactsIcon__i+3Sf",A=function(e){var n=(0,F.Z)("",{isEmpty:!0,minLenght:3});return e.allowChange?(0,Z.jsxs)("form",{onSubmit:e.onSubmit,children:[(0,Z.jsxs)("div",{children:[(0,Z.jsx)("input",{onBlur:n.onBlur,onChange:n.onChange,value:n.value,name:"postMessage",type:"text"}),n.isDirty&&n.error&&(0,Z.jsx)("div",{style:{color:"red"},children:n.error})]}),(0,Z.jsx)("div",{children:(0,Z.jsx)("button",{disabled:!n.inputValid,className:L,children:"Add post"})})]}):(0,Z.jsx)(Z.Fragment,{})},M=t(7309),D=t(9998),_=t(1752),I=t(732),J=t(7575),U=function(e){var n=(0,s.useState)(!1),t=(0,r.Z)(n,2),o=t[0],a=t[1],l=function(){var n=(0,i.Z)((0,i.Z)({},e.profile),{},{aboutMe:d.value,contacts:{facebook:f.value,website:p.value,twitter:j.value,instagram:g.value,youtube:m.value,github:v.value,mainLink:b.value},lookingForAJob:h.value,lookingForAJobDescription:x.value,fullName:c.value});e.onSubmit(n),a(!1)},u=function(){a(!1)},c=(0,F.Z)(e.profile.fullName?e.profile.fullName:"",{isEmpty:!0,minLenght:3}),d=(0,F.Z)(e.profile.aboutMe?e.profile.aboutMe:"",{}),h=(0,F.Z)(e.profile.aboutMe?e.profile.aboutMe:e.profile.lookingForAJob,{}),x=(0,F.Z)(e.profile.lookingForAJobDescription?e.profile.lookingForAJobDescription:"",{}),f=(0,F.Z)(e.profile.facebook?e.profile.facebook:"",{}),p=(0,F.Z)(e.profile.website?e.profile.website:"",{}),j=(0,F.Z)(e.profile.twitter?e.profile.twitter:"",{}),g=(0,F.Z)(e.profile.instagram?e.profile.instagram:"",{}),m=(0,F.Z)(e.profile.youtube?e.profile.youtube:"",{}),v=(0,F.Z)(e.profile.github?e.profile.github:"",{}),b=(0,F.Z)(e.profile.mainLink?e.profile.mainLink:"",{});return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsxs)(M.Z,{type:"primary",onClick:function(){a(!0)},children:["Edit profile info ",(0,Z.jsx)(_.Z,{})]}),(0,Z.jsx)(D.Z,{title:"User profile",closable:!1,open:o,onOk:l,onCancel:u,footer:[(0,Z.jsxs)(M.Z,{onClick:u,children:["Return ",(0,Z.jsx)(I.Z,{})]},"back"),(0,Z.jsxs)(M.Z,{type:"primary",onClick:l,children:["Save ",(0,Z.jsx)(J.Z,{})]},"submit")],children:(0,Z.jsxs)("form",{id:"ProfileInfoForm",onSubmit:e.onSubmit,children:[(0,Z.jsxs)("div",{children:[(0,Z.jsx)("b",{children:"Full name : "}),(0,Z.jsx)("input",{type:"text",name:"fullName",onBlur:c.onBlur,onChange:c.onChange,value:c.value})]}),(0,Z.jsxs)("div",{children:[(0,Z.jsx)("b",{children:"About me : "}),(0,Z.jsx)("textarea",{type:"text",name:"aboutMe",onBlur:d.onBlur,onChange:d.onChange,value:d.value})]}),(0,Z.jsxs)("div",{children:[(0,Z.jsx)("b",{children:"Looking for a job"}),(0,Z.jsx)("input",{onChange:h.onChange,type:"checkbox",name:"lookingForAJob",value:h.value})]}),(0,Z.jsxs)("div",{children:[(0,Z.jsx)("b",{children:"Skills "}),(0,Z.jsx)("textarea",{type:"text",name:"lookingForAJobDescription",onBlur:x.onBlur,onChange:x.onChange,value:x.value})]}),(0,Z.jsxs)("div",{children:[(0,Z.jsxs)("div",{children:[(0,Z.jsx)("b",{children:"Facebook "}),(0,Z.jsx)("input",{type:"text",name:"facebook",onBlur:f.onBlur,onChange:f.onChange,value:f.value})]}),(0,Z.jsxs)("div",{children:[(0,Z.jsx)("b",{children:"Website "}),(0,Z.jsx)("input",{type:"text",name:"website",onBlur:p.onBlur,onChange:p.onChange,value:p.value})]}),(0,Z.jsxs)("div",{children:[(0,Z.jsx)("b",{children:"Twitter "}),(0,Z.jsx)("input",{type:"text",name:"twitter",onBlur:j.onBlur,onChange:j.onChange,value:j.value})]}),(0,Z.jsxs)("div",{children:[(0,Z.jsx)("b",{children:"Instagram "}),(0,Z.jsx)("input",{type:"text",name:"instagram",onBlur:g.onBlur,onChange:g.onChange,value:g.value})]}),(0,Z.jsxs)("div",{children:[(0,Z.jsx)("b",{children:"Youtube "}),(0,Z.jsx)("input",{type:"text",name:"youtube",onBlur:m.onBlur,onChange:m.onChange,value:m.value})]}),(0,Z.jsxs)("div",{children:[(0,Z.jsx)("b",{children:"Github "}),(0,Z.jsx)("input",{type:"text",name:"github",onBlur:v.onBlur,onChange:v.onChange,value:v.value})]}),(0,Z.jsxs)("div",{children:[(0,Z.jsx)("b",{children:"Main Link "}),(0,Z.jsx)("input",{type:"text",name:"mainLink",onBlur:b.onBlur,onChange:b.onChange,value:b.value})]})]})]})})]})},E=t(655),T=t(8042),O=t(6908),z=t(5763),Y=t(3657),q=t(4204),R=t(9293),G=t(1753),V=function(e){var n=e.contacts,t=[{key:"1",label:(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)("b",{children:"Facebook"})," ",n.facebook]}),icon:(0,Z.jsx)(E.Z,{className:N})},{key:"2",label:(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)("b",{children:"Website"})," ",n.website]}),icon:(0,Z.jsx)(T.Z,{className:N})},{key:"3",label:(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)("b",{children:"Twitter"})," ",n.twitter]}),icon:(0,Z.jsx)(O.Z,{className:N})},{key:"4",label:(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)("b",{children:"Instagram"})," ",n.instagram]}),icon:(0,Z.jsx)(z.Z,{className:N})},{key:"5",label:(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)("b",{children:"Youtube"})," ",n.youtube]}),icon:(0,Z.jsx)(Y.Z,{className:N})},{key:"6",label:(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)("b",{children:"Github"})," ",n.github]}),icon:(0,Z.jsx)(q.Z,{className:N})},{key:"7",label:(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)("b",{children:"Main Link"})," ",n.mainLink]}),icon:(0,Z.jsx)(R.Z,{className:N})}];return(0,Z.jsx)("div",{children:(0,Z.jsx)(v.Z,{menu:{items:t},children:(0,Z.jsxs)("div",{onClick:function(e){return e.preventDefault()},children:["Contacts ",(0,Z.jsx)(G.Z,{})]})})})},$=function(e){return(0,Z.jsxs)("div",{children:[(0,Z.jsx)("div",{children:e.profile.fullName}),(0,Z.jsx)("div",{children:e.profile.aboutMe}),e.profile.lookingForAJob?(0,Z.jsxs)("div",{children:[(0,Z.jsx)("div",{children:(0,Z.jsx)("b",{children:"Looking for a job"})}),(0,Z.jsx)("div",{children:e.profile.lookingForAJobDescription})]}):(0,Z.jsx)("div",{children:(0,Z.jsx)("b",{children:"Don't looking for a job"})}),(0,Z.jsx)(V,{contacts:e.profile.contacts})]})},H=t(1429),W=t(7128),Q=t(4664),X=t(4165),K=t(5861),ee=t(5518),ne=t(2004),te=t(2351),ie=function(e){var n=function(){var e=(0,K.Z)((0,X.Z)().mark((function e(n){var t,i,s;return(0,X.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.url){e.next=5;break}return e.next=4,new Promise((function(e){var t=new FileReader;t.readAsDataURL(n.originFileObj),t.onload=function(){return e(t.result)}}));case 4:t=e.sent;case 5:(i=new Image).src=t,null===(s=window.open(t))||void 0===s||s.document.write(i.outerHTML);case 9:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,Z.jsx)(ne.Z,{rotate:!0,children:(0,Z.jsx)(ee.Z,{showUploadList:!1,beforeUpload:function(n){var t="image/jpeg"===n.type||"image/png"===n.type,i=n.size/1024/1024<5;return t?i?(e.savePhoto(n),x.ZP.success("Image update")):x.ZP.error("Image must smaller than 5MB!"):x.ZP.error("You can only upload JPG/PNG file!"),t&&i},onPreview:n,children:(0,Z.jsx)(M.Z,{icon:(0,Z.jsx)(te.Z,{}),children:"Upload"})})})},se=t(1117),oe=t(8594),re=function(e){var n=function(n){e.deletePost(n)},t=function(n){e.increaseLikesCount(n)},i=function(n){e.decreaseLikesCount(n)},s=e.posts.map((function(s){return(0,Z.jsx)(w,{userAvatar:e.profile.photos.large||y,userName:e.profile.fullName,post:s,deletePost:n,decreaseLikesCount:i,increaseLikesCount:t,allowChange:e.allowChange},s.id)}));return(0,Z.jsxs)("main",{className:S,children:[(0,Z.jsxs)(j.Z,{children:[(0,Z.jsx)(g.Z,{span:6,children:(0,Z.jsx)(m.C,{size:150,icon:(0,Z.jsx)("img",{src:e.profile.photos.large||y,alt:"main-img"})})}),(0,Z.jsx)(g.Z,{span:6,children:(0,Z.jsx)(H.Z,{title:"Followers",value:10})}),(0,Z.jsx)(g.Z,{span:6,children:(0,Z.jsx)(H.Z,{title:"Follows",value:10})}),(0,Z.jsx)(g.Z,{span:6,children:(0,Z.jsx)(H.Z,{title:"Now",prefix:(0,Z.jsx)(se.Z,{}),value:"online"})})]}),e.allowChange?(0,Z.jsx)(ie,{savePhoto:e.savePhoto}):(0,Z.jsx)(oe.Z,{userId:e.profile.userId,followed:e.profile.followed}),e.allowChange&&(0,Z.jsx)(U,{onSubmit:function(n){e.saveProfileInfo(n)},profile:e.profile}),(0,Z.jsx)($,{profile:e.profile}),(0,Z.jsx)(P,{status:e.status,updateUserStatus:e.updateUserStatus,allowChange:e.allowChange}),(0,Z.jsx)(W.Z,{style:{color:"white",borderColor:"white"},plain:!0,children:"Posts"}),e.allowChange&&(0,Z.jsx)(A,{onSubmit:function(n){n.preventDefault(),e.addPost(n.target.postMessage.value)},allowChange:e.allowChange}),s.length?(0,Z.jsx)(Z.Fragment,{children:(0,Z.jsx)(p.Z,{wrap:!0,children:(0,Z.jsx)("div",{className:B,children:s})})}):(0,Z.jsx)(Q.Z,{})]})},ae=t(8687),le=t(6669),ue=t(5666),ce=t(6871),de=t(7781),he=function(e){return e.profilePage.posts},xe=function(e){return e.profilePage.newPostMessage},fe=function(e){return e.profilePage.isFetching},pe=function(e){return e.profilePage.status},je=function(e){return e.profilePage.profile},ge=function(e){return e.auth.id},me=t(4041),ve=(0,de.qC)((0,ae.$j)((function(e){return{posts:he(e),newPostMessage:xe(e),isFetching:fe(e),isAuth:(0,me.Od)(e),status:pe(e),profile:je(e),id:ge(e)}}),{addPost:o.q2,deletePost:o.fR,increaseLikesCount:o.dk,decreaseLikesCount:o.D8,requestProfile:o.tg,getUserStatus:o.Tq,updateUserStatus:o.OL,savePhoto:o.Ju,saveProfileInfo:o.FX}),ue.N,(function(e){return function(n){var t=(0,ce.TH)(),s=(0,ce.s0)(),o=(0,ce.UO)();return(0,Z.jsx)(e,(0,i.Z)((0,i.Z)({},n),{},{router:{location:t,navigate:s,params:o}}))}}))((function(e){var n=e.router.params.userId,t=!1,o=e.requestProfile,r=e.getUserStatus;return n||(n=e.id,t=!0),(0,s.useEffect)((function(){o(n),r(n)}),[n,o,r]),(0,Z.jsx)(Z.Fragment,{children:e.isFetching?(0,Z.jsx)(le.Z,{}):(0,Z.jsx)(re,(0,i.Z)((0,i.Z)({},e),{},{allowChange:t}))})}))},5666:function(e,n,t){t.d(n,{N:function(){return u}});var i=t(1413),s=t(8687),o=t(6871),r=t(4041),a=t(184),l=function(e){return{isAuth:(0,r.Od)(e)}},u=function(e){return(0,s.$j)(l)((function(n){return n.isAuth?(0,a.jsx)(e,(0,i.Z)({},n)):(0,a.jsx)(o.Fg,{replace:!0,to:"/login"})}))}}}]);
//# sourceMappingURL=341.19b8bc19.chunk.js.map